{%- extends 'base.html' -%}
{%- block content -%}
<div id="homepage">
  <h3>Details for track {{ mbid }}</h3>
  {% if mbid == "" %}
      <div>We do not have data for this track. <a href="/contribute">Please upload it!</a></div>
  {% else %}
      <div class="warning bg-warning" style="padding: 1em; border: 2px solid red; margin-bottom: 1em">
         This page sucks. Hackers: Please make it bettr! 
         <a href="https://github.com/metabrainz/acousticbrainz-server/blob/master/acousticbrainz/server.py">server.py</a>
         <a href="https://github.com/metabrainz/acousticbrainz-server/blob/master/templates/summary.html">summary.html</a>
      </div>
      <div>
         <table class="table table-striped table-bordered">
            <thead><th style="width: 30%;">Track information</th><th>value</th></thead>
            <tr><td>artist</td><td>{{ lowlevel.metadata.tags.artist[0] }}</td></td></tr>
            <tr><td>release</td><td>{{ lowlevel.metadata.tags.album[0] }}</td></td></tr>
            <tr><td>title</td><td>{{ lowlevel.metadata.tags.title[0] }}</td></td></tr>
            <tr><td>track number</td><td>{{ lowlevel.metadata.tags.tracknumber[0] }} / {{ lowlevel.metadata.tags.tracktotal[0] }}</td></td></tr>
         </table>

         <table class="table table-striped table-bordered">
            <thead><th style="width: 30%;">Tonal & Rhythm</th><th>value</th></thead>
            <tr><td>key</td><td>{{ lowlevel.tonal.key_key }}</td></td></tr>
            <tr><td>scale</td><td>{{ lowlevel.tonal.chords_scale }}</td></tr>
            <tr><td>danceability</td><td>{{ lowlevel.rhythm.danceability }}</td></tr>
            <tr><td>bpm</td><td>{{ lowlevel.rhythm.bpm }}</td></tr>
            <tr><td>beat count</td><td>{{ lowlevel.rhythm.beats_count }}</td></tr>
         </table>

         <table class="table table-striped table-bordered">
            <thead><th style="width: 30%;">Voice, timbre, gender, etc.</th><th style="width: 25%;">value</th><th>probability</th></thead>
            {% for row in other %}
               <tr><td>{{ row[0] }}</td><td>{{ row[1] }}</td><td>{{ row[2] }}</td></tr>
            {% endfor %}
         </table>

         <table class="table table-striped table-bordered">
            <thead><th style="width: 30%;">Moods</th><th style="width: 25%;">value</th><th>probability</th></thead>
            {% for row in moods %}
               <tr><td>{{ row[0] }}</td><td>{{ row[1] }}</td><td>{{ row[2] }}</td></tr>
            {% endfor %}
         </table>

         <table class="table table-striped table-bordered">
            <thead><th style="width: 30%;">Genres</th><th style="width: 25%;">value</th><th>probability</th></thead>
            {% for row in genres %}
               <tr><td>{{ row[0] }}</td><td>{{ row[1] }}</td><td>{{ row[2] }}</td></tr>
            {% endfor %}
         </table>
      </div>
  {% endif %}
</div>
{%- endblock -%}
